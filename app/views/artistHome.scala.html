@import models.album.Album
@import models.artist.Artist
@import models.album.AlbumFull
@import models.review.ReviewDao
@(albumsAndRatings: List[(AlbumFull, Float)], nonDBAlbums: List[com.steven.hicks.beans.Album], artist: Artist)(implicit message: Messages, session: Session)

    @main(artist.name) {

        <ppre>@artist.summary</ppre>

        <h3>@artist.name</h3>
        Select an album:

        <table>
        @for((a,r) <- albumsAndRatings){
            <tr>
                <td>
                    @if(r != r) {
                        -
                        } else {@r}
                </td>
                <td>
                    @if(a.getMediumImage(a.images).nonEmpty){
                    <img src="@a.getMediumImage(a.images).get.getUrl"/>
                    }else{
                <img src=""/>
                    }
                </td>
                <td>
                    <a href="@controllers.routes.AlbumController.albumHome(a.id)">@a.name</a>
                    <br/>
                    @a.releaseDate.getYear
                </td>
            </tr>
        }
        </table>

        <br/>
        or add another album

        <table>
        @for(a <- nonDBAlbums) {
            <tr>
                <td></td>
                <td></td>
                <td><a href="@controllers.routes.ArtistController.addAlbumToDatabase(artist.id.get, a.getMbid)">@a.getName</a></td>
            </tr>
        }
        </table>
    }